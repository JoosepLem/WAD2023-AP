{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      post: {}\n    };\n  },\n  mounted() {\n    const postId = this.$route.params.id;\n    this.fetchPost(postId);\n  },\n  methods: {\n    fetchPost(postId) {\n      fetch(`http://localhost:3000/post/get/${postId}`).then(response => response.json()).then(data => {\n        this.post = data;\n      }).catch(error => {\n        console.error(\"Error fetching individual post:\", error);\n      });\n    },\n    updatePost() {\n      const updatedBody = document.querySelector(\".post-body textarea\").value;\n      fetch(`http://localhost:3000/post/update/${this.post.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          body: updatedBody\n        })\n      }).then(response => response.json()).then(data => {\n        console.log(\"Post updated:\", data);\n        this.$router.push(\"/\");\n      }).catch(error => {\n        console.error(\"Error updating post:\", error);\n      });\n    },\n    deletePost() {\n      const postId = this.post.id;\n      fetch(`http://localhost:3000/post/delete/${postId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"Post deleted successfully\");\n          this.$router.push(\"/\");\n        } else {\n          console.error(\"Error deleting post:\", response.statusText);\n        }\n      }).catch(error => {\n        console.error(\"Error deleting post:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","post","mounted","postId","$route","params","id","fetchPost","methods","fetch","then","response","json","catch","error","console","updatePost","updatedBody","document","querySelector","value","method","headers","body","JSON","stringify","log","$router","push","deletePost","ok","statusText"],"sources":["/Users/nikita_filin/Desktop/TU/WAD/WAD2023-AP/blog/src/views/IndividualPost.vue"],"sourcesContent":["<template>\n  <div class=\"individual-post\">\n    <h1>{{ \"Post \" + post.id }}</h1>\n    <div class=\"post-body\">\n      <textarea>{{ post.body }}</textarea>\n    </div>\n    <div class=\"post-actions\">\n      <button @click=\"updatePost\">Update</button>\n      <button @click=\"deletePost\">Delete</button>\n    </div>\n  </div>\n</template>\n  \n<script>\nexport default {\n  data() {\n    return {\n      post: {},\n    };\n  },\n  mounted() {\n    const postId = this.$route.params.id;\n    this.fetchPost(postId);\n  },\n  methods: {\n    fetchPost(postId) {\n      fetch(`http://localhost:3000/post/get/${postId}`)\n        .then((response) => response.json())\n        .then((data) => {\n          this.post = data;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching individual post:\", error);\n        });\n    },\n\n    updatePost() {\n      const updatedBody = document.querySelector(\".post-body textarea\").value;\n\n      fetch(`http://localhost:3000/post/update/${this.post.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          body: updatedBody,\n        }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Post updated:\", data);\n\n          this.$router.push(\"/\");\n        })\n        .catch((error) => {\n          console.error(\"Error updating post:\", error);\n        });\n    },\n\n    deletePost() {\n      const postId = this.post.id;\n\n      fetch(`http://localhost:3000/post/delete/${postId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          if (response.ok) {\n            console.log(\"Post deleted successfully\");\n\n            this.$router.push(\"/\");\n          } else {\n            console.error(\"Error deleting post:\", response.statusText);\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error deleting post:\", error);\n        });\n    },\n  },\n};\n</script>\n\n<style>\n.individual-post {\n  margin: 0 auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n}\n\n.post-body {\n  margin: 20px 0;\n  width: 60%;\n  height: 50%;\n}\n\n.post-actions button {\n  padding: 12px 20px;\n  margin-right: 10px;\n  cursor: pointer;\n  background-color: deepskyblue;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n}\n\n.post-actions {\n  display: flex;\n  gap: 20px;\n}\n\ntextarea {\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  font-size: 14px;\n  resize: vertical;\n}\n</style>\n  "],"mappings":";AAcA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;IACpC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAAC;EACxB,CAAC;EACDK,OAAO,EAAE;IACPD,SAASA,CAACJ,MAAM,EAAE;MAChBM,KAAK,CAAE,kCAAiCN,MAAO,EAAC,EAC7CO,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEV,IAAI,IAAK;QACd,IAAI,CAACC,IAAG,GAAID,IAAI;MAClB,CAAC,EACAa,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,CAAC;IACN,CAAC;IAEDE,UAAUA,CAAA,EAAG;MACX,MAAMC,WAAU,GAAIC,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC,CAACC,KAAK;MAEvEX,KAAK,CAAE,qCAAoC,IAAI,CAACR,IAAI,CAACK,EAAG,EAAC,EAAE;QACzDe,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBF,IAAI,EAAEN;QACR,CAAC;MACH,CAAC,EACEP,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEV,IAAI,IAAK;QACde,OAAO,CAACW,GAAG,CAAC,eAAe,EAAE1B,IAAI,CAAC;QAElC,IAAI,CAAC2B,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB,CAAC,EACAf,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,CAAC;IACN,CAAC;IAEDe,UAAUA,CAAA,EAAG;MACX,MAAM1B,MAAK,GAAI,IAAI,CAACF,IAAI,CAACK,EAAE;MAE3BG,KAAK,CAAE,qCAAoCN,MAAO,EAAC,EAAE;QACnDkB,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,EACEZ,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACmB,EAAE,EAAE;UACff,OAAO,CAACW,GAAG,CAAC,2BAA2B,CAAC;UAExC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACxB,OAAO;UACLb,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEH,QAAQ,CAACoB,UAAU,CAAC;QAC5D;MACF,CAAC,EACAlB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}